<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Alpine.js</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-2xl font-bold mb-6">Test des fonctionnalités Alpine.js</h1>
        
        <!-- Test 1: Dropdown simple -->
        <div class="bg-white p-6 rounded-lg shadow mb-6">
            <h2 class="text-lg font-semibold mb-4">1. Test Dropdown</h2>
            <div x-data="{ dropdownOpen: false }" class="relative">
                <button @click="dropdownOpen = !dropdownOpen" class="bg-blue-500 text-white px-4 py-2 rounded">
                    Ouvrir le menu
                </button>
                <div x-show="dropdownOpen" x-cloak
                     x-transition:enter="transition ease-out duration-200"
                     x-transition:enter-start="opacity-0 scale-95"
                     x-transition:enter-end="opacity-100 scale-100"
                     class="absolute mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profil</a>
                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Déconnexion</a>
                </div>
            </div>
        </div>

        <!-- Test 2: Toggle simple -->
        <div class="bg-white p-6 rounded-lg shadow mb-6">
            <h2 class="text-lg font-semibold mb-4">2. Test Toggle</h2>
            <div x-data="{ isOpen: false }">
                <button @click="isOpen = !isOpen" class="bg-green-500 text-white px-4 py-2 rounded">
                    <span x-text="isOpen ? 'Fermer' : 'Ouvrir'"></span>
                </button>
                <div x-show="isOpen" x-cloak class="mt-4 p-4 bg-gray-50 rounded">
                    Contenu affiché !
                </div>
            </div>
        </div>

        <!-- Test 3: Compteur -->
        <div class="bg-white p-6 rounded-lg shadow mb-6">
            <h2 class="text-lg font-semibold mb-4">3. Test Compteur</h2>
            <div x-data="{ count: 0 }">
                <button @click="count++" class="bg-purple-500 text-white px-4 py-2 rounded">
                    Compteur: <span x-text="count"></span>
                </button>
            </div>
        </div>

        <!-- Test 4: Menu Mobile (comme dans l'app) -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-lg font-semibold mb-4">4. Test Menu Mobile</h2>
            <div x-data="{ mobileMenuOpen: false }">
                <button @click="mobileMenuOpen = !mobileMenuOpen" class="bg-red-500 text-white px-4 py-2 rounded">
                    Menu Mobile
                </button>
                <div x-show="mobileMenuOpen" x-cloak
                     x-transition:enter="transition ease-out duration-200"
                     x-transition:enter-start="opacity-0"
                     x-transition:enter-end="opacity-100"
                     class="mt-4 p-4 bg-gray-50 rounded">
                    <a href="#" class="block py-2 text-gray-700 hover:bg-gray-200">Dashboard</a>
                    <a href="#" class="block py-2 text-gray-700 hover:bg-gray-200">Profil</a>
                    <a href="#" class="block py-2 text-gray-700 hover:bg-gray-200">Déconnexion</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Vérifier qu'Alpine.js est bien chargé
        document.addEventListener('alpine:init', () => {
            console.log('✅ Alpine.js est correctement initialisé');
        });
        
        // Vérifier les erreurs
        window.addEventListener('error', (e) => {
            console.error('❌ Erreur JavaScript:', e.error);
        });
    </script>
</body>
</html>
